{"version":3,"file":"RequestHelper.js","sources":["../../../src/Services/Getway/RequestHelper.ts"],"sourcesContent":["import { AxiosError } from 'axios'\r\n// import { ApiAlertContext } from 'local-lib/Views'\r\nimport { ApplicationPaths } from 'partner-oidc-auth'\r\nimport { authService } from 'partner-oidc-auth'\r\nexport const ProcessRepose = async (err: AxiosError) => {\r\n  if (err.response?.status === 403) {\r\n    const dataError: { Code: number; Message: string } = err.response.data as any\r\n    switch (dataError.Code) {\r\n      case 3: {\r\n        await authService.signOut({ returnUrl: authService.getReturnUrl() })\r\n        break\r\n      }\r\n      case 1: {\r\n        await authService.userManager?.revokeTokens(['access_token'])\r\n        window.location.replace(ApplicationPaths.Origin(''))\r\n        break\r\n      }\r\n      default: {\r\n        window.location.replace(ApplicationPaths.Origin(ApplicationPaths.IdentityAccessDenied))\r\n        break\r\n      }\r\n    }\r\n  } else if (err.response?.status === 401) {\r\n  } else if (err.code === 'ERR_CANCELED') {\r\n  }\r\n \r\n  return Promise.reject(err)\r\n}\r\n"],"names":["ProcessRepose","_ref","_asyncToGenerator","_regenerator","m","_callee","err","_err$response","_err$response2","dataError","_authService$userMana","_t","w","_context","n","response","status","data","Code","authService","signOut","returnUrl","getReturnUrl","a","userManager","revokeTokens","window","location","replace","ApplicationPaths","Origin","IdentityAccessDenied","code","Promise","reject","_x","apply","arguments"],"mappings":";;;IAIaA,aAAa,gBAAA,YAAA;EAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,CAAG,SAAAC,OAAAA,CAAOC,GAAe,EAAA;IAAA,IAAAC,aAAA,EAAAC,cAAA;AAAA,IAAA,IAAAC,SAAA,EAAAC,qBAAA,EAAAC,EAAA;AAAA,IAAA,OAAAR,YAAA,EAAA,CAAAS,CAAA,CAAA,UAAAC,QAAA,EAAA;MAAA,OAAAA,CAAAA,EAAAA,QAAAA,QAAA,CAAAC,CAAA;AAAA,QAAA,KAAA,CAAA;AAAA,UAAA,IAAA,EAC7C,CAAAP,CAAAA,aAAA,GAAAD,GAAG,CAACS,QAAQ,MAAAR,IAAAA,IAAAA,aAAA,KAAZA,MAAAA,GAAAA,MAAAA,GAAAA,aAAA,CAAcS,MAAM,MAAK,GAAG,CAAA,EAAA;AAAAH,YAAAA,QAAA,CAAAC,CAAA,GAAA,CAAA;AAAA,YAAA;AAAA;AACxBL,UAAAA,SAAS,GAAsCH,GAAG,CAACS,QAAQ,CAACE,IAAW;UAAAN,EAAA,GACrEF,SAAS,CAACS,IAAI;UAAAL,QAAA,CAAAC,CAAA,GAAAH,EAAA,KACf,CAAC,GAAA,CAAA,GAAAA,EAAA,KAID,CAAC,GAAA,CAAA,GAAA,CAAA;AAAA,UAAA;AAAA,QAAA,KAAA,CAAA;AAAAE,UAAAA,QAAA,CAAAC,CAAA,GAAA,CAAA;UAAA,OAHEK,WAAW,CAACC,OAAO,CAAC;AAAEC,YAAAA,SAAS,EAAEF,WAAW,CAACG,YAAY;AAAE,WAAE,CAAC;AAAA,QAAA,KAAA,CAAA;UAAA,OAAAT,QAAA,CAAAU,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,CAAA;AAAAV,UAAAA,QAAA,CAAAC,CAAA,GAAA,CAAA;AAAA,UAAA,OAAA,CAAAJ,qBAAA,GAI9DS,WAAW,CAACK,WAAW,MAAAd,IAAAA,IAAAA,qBAAA,KAAvBA,MAAAA,GAAAA,MAAAA,GAAAA,qBAAA,CAAyBe,YAAY,CAAC,CAAC,cAAc,CAAC,CAAC;AAAA,QAAA,KAAA,CAAA;UAC7DC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAACC,gBAAgB,CAACC,MAAM,CAAC,EAAE,CAAC,CAAC;UAAA,OAAAjB,QAAA,CAAAU,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,CAAA;AAIpDG,UAAAA,MAAM,CAACC,QAAQ,CAACC,OAAO,CAACC,gBAAgB,CAACC,MAAM,CAACD,gBAAgB,CAACE,oBAAoB,CAAC,CAAC;UAAA,OAAAlB,QAAA,CAAAU,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,CAAA;AAAAV,UAAAA,QAAA,CAAAC,CAAA,GAAA,CAAA;AAAA,UAAA;AAAA,QAAA,KAAA,CAAA;UAItF,IAAI,CAAA,CAAAN,cAAA,GAAAF,GAAG,CAACS,QAAQ,MAAAP,IAAAA,IAAAA,cAAA,KAAZA,MAAAA,GAAAA,MAAAA,GAAAA,cAAA,CAAcQ,MAAM,MAAK,GAAG,EAAE,CACxC,MAAM,IAAIV,GAAG,CAAC0B,IAAI,KAAK,cAAc,EAAE;AACvC,QAAA,KAAA,CAAA;UAAA,OAAAnB,QAAA,CAAAU,CAAA,CAAA,CAAA,EAEMU,OAAO,CAACC,MAAM,CAAC5B,GAAG,CAAC,CAAA;AAAA;AAAA,KAAA,EAAAD,OAAA,CAAA;GAC3B,CAAA,CAAA;EAAA,OAvBYL,SAAAA,aAAaA,CAAAmC,EAAA,EAAA;AAAA,IAAA,OAAAlC,IAAA,CAAAmC,KAAA,CAAA,IAAA,EAAAC,SAAA,CAAA;AAAA,GAAA;AAAA,CAuBzB;;;;"}