{"version":3,"file":"index.js","sources":["../../../src/Components/YoutubeImage/index.tsx"],"sourcesContent":["import React, { Component } from 'react'\r\ninterface IYoutubeImageProps {\r\n    imgProps?: React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>\r\n    ContentId: string\r\n}\r\ninterface IYoutubeImageState {\r\n    image: string\r\n}\r\nexport default class YoutubeImage extends Component<IYoutubeImageProps, IYoutubeImageState> {\r\n    constructor(props: IYoutubeImageProps) {\r\n        super(props)\r\n        this.ApiKey = process.env.REACT_APP_YOUTUBE_IMAGE_KEY as string | undefined\r\n        this.state = {\r\n            image: 'https://i.ytimg.com/vi/111111111111/mqdefault.jpg'\r\n        }\r\n    }\r\n    ApiKey: string | undefined = ''\r\n    componentDidMount = () => {\r\n        if (this.props.ContentId.length == 24) {\r\n            fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet&id=${this.props.ContentId}&fields=items(id%2Csnippet%2Fthumbnails)&key=${this.ApiKey}`)\r\n                .then(x => x.json())\r\n                .then(x => {\r\n                    const data = x as ResponseImage\r\n                    this.setState({ image: data.items[0].snippet.thumbnails.default.url })\r\n                })\r\n                .catch(() => console.log(\"error!\"))\r\n        } else {\r\n            this.setState({ image: `https://i.ytimg.com/vi/${this.props.ContentId}/mqdefault.jpg` })\r\n        }\r\n    }\r\n    render() {\r\n        const { src, ...other } = this.props.imgProps ?? {}\r\n        return (\r\n            <img src={this.state.image} {...other} />\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport interface ResponseImage {\r\n    items: Item[]\r\n}\r\n\r\nexport interface Item {\r\n    id: string\r\n    snippet: Snippet\r\n}\r\n\r\nexport interface Snippet {\r\n    thumbnails: Thumbnails\r\n}\r\n\r\nexport interface Thumbnails {\r\n    default: Default\r\n    medium: Medium\r\n    high: High\r\n}\r\n\r\nexport interface Default {\r\n    url: string\r\n    width: number\r\n    height: number\r\n}\r\n\r\nexport interface Medium {\r\n    url: string\r\n    width: number\r\n    height: number\r\n}\r\n\r\nexport interface High {\r\n    url: string\r\n    width: number\r\n    height: number\r\n}\r\n"],"names":["YoutubeImage","_Component","props","_this","_classCallCheck","_callSuper","_defineProperty","ContentId","length","fetch","concat","ApiKey","then","x","json","data","setState","image","items","snippet","thumbnails","url","console","log","process","env","REACT_APP_YOUTUBE_IMAGE_KEY","state","_inherits","_createClass","key","value","render","_this$props$imgProps","_ref","imgProps","src","other","_objectWithoutProperties","_excluded","_jsx","_objectSpread","Component"],"mappings":";;;;;AAQqBA,IAAAA,YAAa,0BAAAC,UAAA,EAAA;EAC9B,SAAAD,YAAAA,CAAYE,KAAyB,EAAA;AAAA,IAAA,IAAAC,KAAA;AAAAC,IAAAA,eAAA,OAAAJ,YAAA,CAAA;AACjCG,IAAAA,KAAA,GAAAE,UAAA,CAAAL,IAAAA,EAAAA,YAAA,GAAME,KAAK,CAAA,CAAA;IAACI,eAAA,CAAAH,KAAA,EAAA,QAAA,EAMa,EAAE,CAAA;IAAAG,eAAA,CAAAH,KAAA,EAAA,mBAAA,EACX,YAAK;MACrB,IAAIA,KAAA,CAAKD,KAAK,CAACK,SAAS,CAACC,MAAM,IAAI,EAAE,EAAE;QACnCC,KAAK,CAAA,iEAAA,CAAAC,MAAA,CAAmEP,KAAA,CAAKD,KAAK,CAACK,SAAS,EAAAG,+CAAAA,CAAAA,CAAAA,MAAA,CAAgDP,KAAA,CAAKQ,MAAM,CAAE,CAAC,CACrJC,IAAI,CAAC,UAAAC,CAAC,EAAA;AAAA,UAAA,OAAIA,CAAC,CAACC,IAAI,EAAE;AAAA,SAAA,CAAC,CACnBF,IAAI,CAAC,UAAAC,CAAC,EAAG;UACN,IAAME,IAAI,GAAGF,CAAkB;UAC/BV,KAAA,CAAKa,QAAQ,CAAC;AAAEC,YAAAA,KAAK,EAAEF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,UAAU,CAAA,SAAA,CAAQ,CAACC;AAAK,WAAA,CAAC;SACzE,CAAC,SACI,CAAC,YAAA;AAAA,UAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;SAAC,CAAA;AAC1C,OAAA,MAAM;QACHpB,KAAA,CAAKa,QAAQ,CAAC;AAAEC,UAAAA,KAAK,4BAAAP,MAAA,CAA4BP,KAAA,CAAKD,KAAK,CAACK,SAAS,EAAA,gBAAA;AAAgB,SAAE,CAAC;AAC3F;KACJ,CAAA;AAlBGJ,IAAAA,KAAA,CAAKQ,MAAM,GAAGa,OAAO,CAACC,GAAG,CAACC,2BAAiD;IAC3EvB,KAAA,CAAKwB,KAAK,GAAG;AACTV,MAAAA,KAAK,EAAE;KACV;AAAA,IAAA,OAAAd,KAAA;AACL;EAACyB,SAAA,CAAA5B,YAAA,EAAAC,UAAA,CAAA;EAAA,OAAA4B,YAAA,CAAA7B,YAAA,EAAA,CAAA;IAAA8B,GAAA,EAAA,QAAA;AAAAC,IAAAA,KAAA,EAeD,SAAAC,MAAMA,GAAA;AAAA,MAAA,IAAAC,oBAAA;AACF,MAAA,IAAAC,IAAA,GAAA,CAAAD,oBAAA,GAA0B,IAAI,CAAC/B,KAAK,CAACiC,QAAQ,cAAAF,oBAAA,KAAA,MAAA,GAAAA,oBAAA,GAAI,EAAE;QAAxCC,IAAA,CAAHE,GAAG;AAAKC,YAAAA,KAAK,GAAAC,wBAAA,CAAAJ,IAAA,EAAAK,SAAA;AACrB,MAAA,OACIC,GAAA,CAAA,KAAA,EAAAC,cAAA,CAAA;AAAKL,QAAAA,GAAG,EAAE,IAAI,CAACT,KAAK,CAACV;OAAWoB,EAAAA,KAAK,CAAA,CAAI;AAEjD;AAAC,GAAA,CAAA,CAAA;AAAA,CAAA,CA3BqCK,SAAiD;;;;"}