{"version":3,"file":"ProgressItem.js","sources":["../../../src/Components/UploadLayout/ProgressItem.tsx"],"sourcesContent":["import { ArrowCircleUp, Close, Done, Info, Pending } from '@mui/icons-material'\r\nimport { Box, Button, LinearProgress, Typography, IconButton } from '@mui/material'\r\nimport { Component } from 'react'\r\nimport { IProcessItem } from './types'\r\n\r\ninterface IProgressItemProps {\r\n  item: IProcessItem\r\n  onRetry: () => void\r\n  onClose: () => void\r\n  [key: string]: any\r\n  disableDelete?: boolean\r\n}\r\ninterface IProgressItemState {\r\n  isHover: boolean\r\n}\r\nexport default class ProgressItem extends Component<IProgressItemProps, IProgressItemState> {\r\n  constructor(props: IProgressItemProps) {\r\n    super(props)\r\n    this.state = {\r\n      isHover: false,\r\n    }\r\n  }\r\n  shouldComponentUpdate(\r\n    nextProps: Readonly<IProgressItemProps>,\r\n    nextState: Readonly<IProgressItemState>,\r\n    nextContext: any\r\n  ): boolean {\r\n    return (\r\n      Object.keys(nextProps).some((key) => (nextProps as any)[key] !== (this.props as any)[key]) ||\r\n      nextState.isHover !== this.state.isHover\r\n    )\r\n  }\r\n\r\n  onRetry = () => {\r\n    this.props.onRetry()\r\n  }\r\n  getIcons = () => {\r\n    switch (this.props.item.Status) {\r\n      case 'Completed':\r\n        return <Done color=\"success\" fontSize=\"small\" />\r\n      case 'Error':\r\n        return <Info color=\"error\" fontSize=\"small\" />\r\n      case 'Processing':\r\n        return <ArrowCircleUp color=\"info\" fontSize=\"small\" />\r\n      default:\r\n        return <Pending color=\"info\" fontSize=\"small\" />\r\n    }\r\n  }\r\n\r\n  getButton = (item: IProcessItem) => {\r\n    return item.Status === 'Completed' || this.props.disableDelete === true ? (\r\n      <></>\r\n    ) : (\r\n      <IconButton sx={{ padding: 0 }} onClick={this.onClose}>\r\n        <Close fontSize=\"small\" />\r\n      </IconButton>\r\n    )\r\n  }\r\n  onClose = () => {\r\n    this.setState({ isHover: true })\r\n  }\r\n  isShowHover = (item: IProcessItem) => {\r\n    return item.Status === 'Error' || this.state.isHover\r\n  }\r\n\r\n  onConfirm = () => {\r\n    this.setState({ isHover: false })\r\n    if (this.props.item.Status === 'Completed') return\r\n    this.props.onClose()\r\n  }\r\n  componentDidUpdate(prevProps: Readonly<IProgressItemProps>, prevState: Readonly<IProgressItemState>, snapshot?: any): void {\r\n    if (this.state.isHover && this.props.item.Status === 'Completed') {\r\n      this.setState({ isHover: false })\r\n    }\r\n  }\r\n  getContentHover = (item: IProcessItem) => {\r\n    return this.state.isHover ? (\r\n      <Box\r\n        sx={{\r\n          background: 'white',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          position: 'absolute',\r\n          zIndex: 1003,\r\n          marginRight: '30px',\r\n          padding: '0 10px',\r\n          borderRadius: '15px',\r\n        }}\r\n      >\r\n        <IconButton onClick={this.onConfirm} sx={{ background: '#e0e0e0', marginRight: '5px' }}>\r\n          <Done color=\"action\" fontSize=\"small\" />\r\n        </IconButton>\r\n        <Typography color={'red'}>Are you sure delete!</Typography>\r\n      </Box>\r\n    ) : item.Status === 'Error' ? (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'end',\r\n          flex: 1,\r\n        }}\r\n      >\r\n        <Box sx={{ background: 'white' }}>\r\n          <Button onClick={this.onRetry}>Retry</Button>\r\n        </Box>\r\n      </Box>\r\n    ) : (\r\n      <></>\r\n    )\r\n  }\r\n  onHoverClose = () => {\r\n    this.setState({ isHover: false })\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            position: 'relative',\r\n            margin: '12px 0',\r\n            padding: '12px 8px',\r\n            border: '1px solid #e0e0e0',\r\n            borderRadius: '10px',\r\n            gap: '5px',\r\n          }}\r\n        >\r\n          <Box sx={{ display: 'flex', gap: '5px', alignItems: 'center' }}>\r\n            {this.getIcons()}\r\n            <Box sx={{ flex: 1, overflow: 'hidden' }}>\r\n              <Typography sx={{ textAlign: 'start' }} noWrap>\r\n                {this.props.item.Name}\r\n              </Typography>\r\n            </Box>\r\n            {this.getButton(this.props.item)}\r\n          </Box>\r\n          <LinearProgress\r\n            sx={{ display: this.props.item.Status === 'Processing' ? 'flex' : 'none' }}\r\n            variant=\"determinate\"\r\n            value={this.props.item.Value ?? 0}\r\n          />\r\n          <Box\r\n            className=\"pannel-actions\"\r\n            sx={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              bottom: 0,\r\n              left: 0,\r\n              right: 0,\r\n              display: this.isShowHover(this.props.item) ? 'flex' : 'none',\r\n              // justifyContent: 'end',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            {this.getContentHover(this.props.item)}\r\n          </Box>\r\n        </Box>\r\n        <Box\r\n          onClick={this.onHoverClose}\r\n          sx={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            display: this.state.isHover ? 'flex' : 'none',\r\n            zIndex: 1002,\r\n          }}\r\n        ></Box>\r\n      </>\r\n    )\r\n  }\r\n}\r\n"],"names":["ProgressItem","_Component","props","_this","_classCallCheck","_callSuper","_defineProperty","onRetry","item","Status","_jsx","Done","color","fontSize","Info","ArrowCircleUp","Pending","disableDelete","IconButton","sx","padding","onClick","onClose","children","Close","setState","isHover","state","_jsxs","Box","background","display","alignItems","position","zIndex","marginRight","borderRadius","onConfirm","Typography","justifyContent","flex","Button","_Fragment","_inherits","_createClass","key","value","shouldComponentUpdate","nextProps","nextState","nextContext","_this2","Object","keys","some","componentDidUpdate","prevProps","prevState","snapshot","render","_this$props$item$Valu","flexDirection","margin","border","gap","getIcons","overflow","textAlign","noWrap","Name","getButton","LinearProgress","variant","Value","className","top","bottom","left","right","isShowHover","getContentHover","onHoverClose","Component"],"mappings":"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"}