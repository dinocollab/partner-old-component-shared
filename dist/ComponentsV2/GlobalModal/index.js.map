{"version":3,"file":"index.js","sources":["../../../src/ComponentsV2/GlobalModal/index.tsx"],"sourcesContent":["import React, { Component, FC } from 'react'\r\nimport { Modal, SxProps, ModalProps, Box, Fade, Backdrop } from '@mui/material'\r\n\r\nexport interface OptionModal {\r\n  sx?: SxProps\r\n  modalProps?: ModalProps\r\n  ContenModal?: () => JSX.Element\r\n}\r\ninterface GlobalModalState {\r\n  isOpen: boolean\r\n  sx?: SxProps\r\n  modalProps?: ModalProps\r\n  ContentModal?: React.JSXElementConstructor<any>\r\n}\r\ninterface GlobalModalProps {}\r\n\r\nexport interface IGlobalModalContext {\r\n  ShowModal: (option: OptionModal) => void\r\n  CloseModal: () => void\r\n}\r\nexport const GlobalModalContext = React.createContext<IGlobalModalContext>({} as any)\r\n\r\nexport enum ContentPosition {\r\n  Center,\r\n}\r\nexport interface IMapGlobalModal {\r\n  context: IGlobalModalContext\r\n}\r\nexport const MapGlobalModalContext = (ElementSub: React.ComponentType<IMapGlobalModal>) => {\r\n  return (\r\n    <>\r\n      <GlobalModalContext.Consumer>\r\n        {(context) => {\r\n          return <ElementSub context={context} />\r\n        }}\r\n      </GlobalModalContext.Consumer>\r\n    </>\r\n  )\r\n}\r\n\r\ntype TGMProps = React.PropsWithChildren<GlobalModalProps>\r\nexport class GlobalModal extends Component<TGMProps, GlobalModalState> implements IGlobalModalContext {\r\n  constructor(props: any) {\r\n    super(props)\r\n    this.state = { isOpen: false }\r\n  }\r\n  ShowModal = (option: OptionModal) => {\r\n    this.setState({ ContentModal: option.ContenModal, sx: option.sx, modalProps: option.modalProps, isOpen: true })\r\n  }\r\n  clearContentModal = () => {\r\n    this.setState({ ContentModal: undefined })\r\n  }\r\n  CloseModal = () => {\r\n    this.setState({ isOpen: false }, () => {\r\n      setTimeout(this.clearContentModal, 500)\r\n    })\r\n  }\r\n  GenerateContent = (): JSX.Element => {\r\n    const Content = this.state.ContentModal ?? (() => <></>)\r\n    const Temp = React.forwardRef(() => <Content />)\r\n    return <Temp />\r\n  }\r\n  render() {\r\n    return (\r\n      <GlobalModalContext.Provider value={this}>\r\n        {this.props.children}\r\n        <Modal\r\n          open={this.state.isOpen}\r\n          sx={this.state.sx}\r\n          closeAfterTransition\r\n          slots={{ backdrop: Backdrop }}\r\n          slotProps={{ backdrop: { timeout: 400 } }}\r\n          {...this.state.modalProps}\r\n        >\r\n          <Fade in={this.state.isOpen}>\r\n            <Box sx={{ position: 'absolute' as 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}>\r\n              {this.GenerateContent()}\r\n            </Box>\r\n          </Fade>\r\n        </Modal>\r\n      </GlobalModalContext.Provider>\r\n    )\r\n  }\r\n}\r\nexport default GlobalModal\r\n"],"names":["GlobalModalContext","React","createContext","ContentPosition","MapGlobalModalContext","ElementSub","_jsx","_Fragment","children","Consumer","context","GlobalModal","_Component","props","_this","_classCallCheck","_callSuper","_defineProperty","option","setState","ContentModal","ContenModal","sx","modalProps","isOpen","undefined","setTimeout","clearContentModal","_this$state$ContentMo","Content","state","Temp","forwardRef","_inherits","_createClass","key","value","render","_jsxs","Provider","Modal","_objectSpread","open","closeAfterTransition","slots","backdrop","Backdrop","slotProps","timeout","Fade","Box","position","top","left","transform","GenerateContent","Component"],"mappings":"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"}