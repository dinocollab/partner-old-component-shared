{"version":3,"file":"CRUDPannel.js","sources":["../../../src/ComponentsV2/TableTemplate/CRUDPannel.tsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { Box, Button } from '@mui/material'\r\nimport { Add, Edit, Delete } from '@mui/icons-material'\r\nimport AppRegistrationIcon from '@mui/icons-material/AppRegistration'\r\nimport { GlobalModalContext, IGlobalModalContext } from '../GlobalModal'\r\nimport { ITableTemplateState, TableTemplateContext } from './TableTemplateContext'\r\n\r\ninterface CRUDPannelProps {\r\n  Create?: JSX.Element\r\n  Edit?: JSX.Element\r\n  Details?: JSX.Element\r\n  Delete?: JSX.Element\r\n}\r\n\r\nexport class CRUDPannel extends Component<CRUDPannelProps> {\r\n  constructor(props: any) {\r\n    super(props)\r\n  }\r\n\r\n  IsMultiple = (state: ITableTemplateState) => {\r\n    return (state.selectionIds?.length ?? 0) > 1\r\n  }\r\n\r\n  IsDisplayAction = (state: ITableTemplateState) => {\r\n    return !!state.selectionIds?.length\r\n  }\r\n\r\n  getButtons = function* (that: CRUDPannel, state: ITableTemplateState) {\r\n    if (that.props.Edit)\r\n      yield (\r\n        <Button\r\n          onClick={that.onEdit}\r\n          key={'Edit'}\r\n          sx={{ width: 100, height: 30 }}\r\n          color=\"info\"\r\n          disabled={that.IsMultiple(state)}\r\n          startIcon={<Edit />}\r\n        >\r\n          Edit\r\n        </Button>\r\n      )\r\n    if (that.props.Delete)\r\n      yield (\r\n        <Button onClick={that.onDelete} key={'Delete'} sx={{ width: 100, height: 30 }} color=\"error\" startIcon={<Delete />}>\r\n          Delete\r\n        </Button>\r\n      )\r\n    if (that.props.Details)\r\n      yield (\r\n        <Button\r\n          onClick={that.onDetails}\r\n          key={'Details'}\r\n          sx={{ width: 100, height: 30 }}\r\n          color=\"inherit\"\r\n          disabled={that.IsMultiple(state)}\r\n          startIcon={<AppRegistrationIcon />}\r\n        >\r\n          Details\r\n        </Button>\r\n      )\r\n  }\r\n\r\n  onCreate = () => {\r\n    this.ModalContext?.ShowModal({\r\n      ContenModal: () => this.props.Create || <EmptyDiv />,\r\n      sx: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    })\r\n  }\r\n\r\n  onEdit = () => {\r\n    this.ModalContext?.ShowModal({\r\n      ContenModal: () => this.props.Edit || <EmptyDiv />,\r\n      sx: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    })\r\n  }\r\n\r\n  onDelete = () => {\r\n    this.ModalContext?.ShowModal({\r\n      ContenModal: () => this.props.Delete || <EmptyDiv />,\r\n      sx: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    })\r\n  }\r\n\r\n  onDetails = () => {\r\n    this.ModalContext?.ShowModal({\r\n      ContenModal: () => this.props.Details || <EmptyDiv />,\r\n      sx: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    })\r\n  }\r\n\r\n  ModalContext?: IGlobalModalContext\r\n  render() {\r\n    return (\r\n      <GlobalModalContext.Consumer>\r\n        {(context) => {\r\n          this.ModalContext = context\r\n          return (\r\n            <TableTemplateContext.Consumer>\r\n              {({ state }) => {\r\n                return (\r\n                  <Box\r\n                    sx={{ height: 50, justifyContent: 'space-between', display: 'flex', padding: '10px', position: 'relative' }}\r\n                  >\r\n                    <Box sx={{ justifyContent: 'space-between', display: 'flex', flex: 1, alignItems: 'center' }}>\r\n                      <Box></Box>\r\n                      {this.props.Create && (\r\n                        <Button\r\n                          onClick={this.onCreate}\r\n                          key={'Create'}\r\n                          sx={{ height: 30 }}\r\n                          variant=\"contained\"\r\n                          startIcon={<Add />}\r\n                        >\r\n                          Create\r\n                        </Button>\r\n                      )}\r\n                    </Box>\r\n                    <Box\r\n                      sx={{\r\n                        justifyContent: 'flex-end',\r\n                        alignItems: 'center',\r\n                        display: this.IsDisplayAction(state) ? 'flex' : 'none',\r\n                        flex: 1,\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        background: '#e0e0e0',\r\n                      }}\r\n                    >\r\n                      {Array.from(this.getButtons(this, state))}\r\n                    </Box>\r\n                  </Box>\r\n                )\r\n              }}\r\n            </TableTemplateContext.Consumer>\r\n          )\r\n        }}\r\n      </GlobalModalContext.Consumer>\r\n    )\r\n  }\r\n}\r\nexport default CRUDPannel\r\nconst EmptyDiv = () => <></>\r\n"],"names":["CRUDPannel","_Component","props","_this","_classCallCheck","_callSuper","_defineProperty","state","_state$selectionIds$l","_state$selectionIds","selectionIds","length","_state$selectionIds2","_regenerator","m","_callee","that","w","_context","n","Edit","_jsx","Button","onClick","onEdit","sx","width","height","color","disabled","IsMultiple","startIcon","Delete","onDelete","children","Details","onDetails","AppRegistrationIcon","a","_this$ModalContext","ModalContext","ShowModal","ContenModal","Create","EmptyDiv","display","justifyContent","alignItems","_this$ModalContext2","_this$ModalContext3","_this$ModalContext4","_inherits","_createClass","key","value","render","_this2","GlobalModalContext","Consumer","context","TableTemplateContext","_ref","_jsxs","Box","padding","position","flex","onCreate","variant","Add","IsDisplayAction","top","left","right","bottom","background","Array","from","getButtons","Component"],"mappings":"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"}