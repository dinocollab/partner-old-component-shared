{"version":3,"file":"index.js","sources":["../../../src/ComponentsV2/HeightEqualWidth/index.tsx"],"sourcesContent":["import React from 'react'\r\n\r\ninterface IProps {\r\n  ratio?: number\r\n  reverse?: boolean\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const HeightEqualWidth: React.FC<React.PropsWithChildren<IProps>> = (props) => {\r\n  const boxRef = React.useRef<HTMLDivElement>(null)\r\n  React.useEffect(() => {\r\n    const resize = () => {\r\n      if (!boxRef.current) return\r\n      const { ratio = 1, reverse } = props\r\n      if (reverse) {\r\n        const height = boxRef.current.offsetHeight * ratio\r\n        boxRef.current.style.width = `${height}px`\r\n      } else {\r\n        const width = boxRef.current.offsetWidth * ratio\r\n        boxRef.current.style.height = `${width}px`\r\n      }\r\n    }\r\n    resize()\r\n    // const timer = setTimeout(resize, 50)\r\n    window.addEventListener('resize', resize)\r\n    return () => {\r\n      // clearTimeout(timer)\r\n      window.removeEventListener('resize', resize)\r\n    }\r\n  }, [props])\r\n  const _style = Object.assign({}, !!props.reverse ? { height: '100%' } : { width: '100%' }, props.style)\r\n  return (\r\n    <div ref={boxRef} style={_style}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeightEqualWidth\r\n"],"names":["HeightEqualWidth","props","boxRef","React","useRef","useEffect","resize","current","_props$ratio","ratio","reverse","height","offsetHeight","style","width","concat","offsetWidth","window","addEventListener","removeEventListener","_style","Object","assign","_jsx","ref","children"],"mappings":";;;IAQaA,gBAAgB,GAA8C,SAA9DA,gBAAgBA,CAA+CC,KAAK,EAAI;AACnF,EAAA,IAAMC,MAAM,GAAGC,cAAK,CAACC,MAAM,CAAiB,IAAI,CAAC;EACjDD,cAAK,CAACE,SAAS,CAAC,YAAK;AACnB,IAAA,IAAMC,MAAM,GAAG,SAATA,MAAMA,GAAQ;AAClB,MAAA,IAAI,CAACJ,MAAM,CAACK,OAAO,EAAE;AACrB,MAAA,IAAAC,YAAA,GAA+BP,KAAK,CAA5BQ,KAAK;AAALA,QAAAA,KAAK,GAAAD,YAAA,KAAG,MAAA,GAAA,CAAC,GAAAA,YAAA;QAAEE,OAAO,GAAKT,KAAK,CAAjBS,OAAO;AAC1B,MAAA,IAAIA,OAAO,EAAE;QACX,IAAMC,MAAM,GAAGT,MAAM,CAACK,OAAO,CAACK,YAAY,GAAGH,KAAK;QAClDP,MAAM,CAACK,OAAO,CAACM,KAAK,CAACC,KAAK,GAAAC,EAAAA,CAAAA,MAAA,CAAMJ,MAAM,EAAI,IAAA,CAAA;AAC3C,OAAA,MAAM;QACL,IAAMG,KAAK,GAAGZ,MAAM,CAACK,OAAO,CAACS,WAAW,GAAGP,KAAK;QAChDP,MAAM,CAACK,OAAO,CAACM,KAAK,CAACF,MAAM,GAAAI,EAAAA,CAAAA,MAAA,CAAMD,KAAK,EAAI,IAAA,CAAA;AAC3C;KACF;AACDR,IAAAA,MAAM,EAAE;AACR;AACAW,IAAAA,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEZ,MAAM,CAAC;AACzC,IAAA,OAAO,YAAK;AACV;AACAW,MAAAA,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEb,MAAM,CAAC;KAC7C;AACH,GAAC,EAAE,CAACL,KAAK,CAAC,CAAC;AACX,EAAA,IAAMmB,MAAM,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE,CAAC,CAACrB,KAAK,CAACS,OAAO,GAAG;AAAEC,IAAAA,MAAM,EAAE;AAAM,GAAE,GAAG;AAAEG,IAAAA,KAAK,EAAE;GAAQ,EAAEb,KAAK,CAACY,KAAK,CAAC;EACvG,OACEU,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,GAAG,EAAEtB,MAAM;AAAEW,IAAAA,KAAK,EAAEO,MAAM;cAC5BnB,KAAK,CAACwB;AAAQ,GAAA,CACX;AAEV;;;;"}